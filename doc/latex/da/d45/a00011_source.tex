\doxysection{test\+\_\+compression.\+py}
\hypertarget{a00011_source}{}\label{a00011_source}\index{python/test\_compression.py@{python/test\_compression.py}}
\mbox{\hyperlink{a00011}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{a00011_source_l00001}\mbox{\hyperlink{a00368}{00001}}\ \textcolor{keyword}{import}\ unittest}
\DoxyCodeLine{\Hypertarget{a00011_source_l00002}00002\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{a00011_source_l00003}00003\ \textcolor{keyword}{import}\ compression\ \textcolor{keyword}{as}\ comp}
\DoxyCodeLine{\Hypertarget{a00011_source_l00004}00004\ \textcolor{keyword}{import}\ scipy.io}
\DoxyCodeLine{\Hypertarget{a00011_source_l00005}00005\ \textcolor{keyword}{from}\ sklearn.metrics\ \textcolor{keyword}{import}\ mean\_squared\_error}
\DoxyCodeLine{\Hypertarget{a00011_source_l00006}00006\ \textcolor{keyword}{import}\ csv}
\DoxyCodeLine{\Hypertarget{a00011_source_l00007}00007\ \textcolor{keyword}{from}\ csv\_io\ \textcolor{keyword}{import}\ ReadCSV,\ SaveCSV}
\DoxyCodeLine{\Hypertarget{a00011_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00009}\mbox{\hyperlink{a00412}{00009}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{a00412}{TestComp}}(unittest.TestCase):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00010}00010\ \ \ \ \ \textcolor{preprocessor}{@classmethod}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00011}\mbox{\hyperlink{a00412_ac86c73ff4bb09de46d20296fcbcbd1af}{00011}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_ac86c73ff4bb09de46d20296fcbcbd1af}{setUpClass}}(cls):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00012}00012\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ n\ =\ 5}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00013}00013\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ cls.data\ =\ cls.load\_pic()[0:n,\ 0:n,\ 0:n]}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00014}00014\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ cls.data\ =\ cls.load\_pic()}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00016}00016\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ Checking\ C\ vs\ Python}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00017}\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{00017}}\ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}\ =\ ReadCSV(\textcolor{stringliteral}{"{}data/test-\/images/indian\_pines.csv"{}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00019}\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{00019}}\ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}}\ =\ cls.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.shape[0]}
\DoxyCodeLine{\Hypertarget{a00011_source_l00020}\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{00020}}\ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}}\ =\ cls.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.shape[1]}
\DoxyCodeLine{\Hypertarget{a00011_source_l00021}\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{00021}}\ \ \ \ \ \ \ \ \ cls.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}}\ =\ cls.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}.shape[2]}
\DoxyCodeLine{\Hypertarget{a00011_source_l00022}00022\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00023}\mbox{\hyperlink{a00412_a7e18036fb4bf81697e8f0dd2d709a888}{00023}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a7e18036fb4bf81697e8f0dd2d709a888}{test\_CSV}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00024}00024\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ z\ \textcolor{keywordflow}{in}\ range(self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}}):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ y\ \textcolor{keywordflow}{in}\ range(self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}}):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ range(self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}}):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(str(x)\ +\ \textcolor{stringliteral}{"{},"{}},\ str(y)\ +\ \textcolor{stringliteral}{"{},"{}},\ str(z)\ +\ \textcolor{stringliteral}{"{}:"{}},\ self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}[x,\ y\ ,z])}
\DoxyCodeLine{\Hypertarget{a00011_source_l00028}00028\ \ \ \ \ \ \ \ \ self.assertTrue(\textcolor{keyword}{True})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00030}\mbox{\hyperlink{a00412_a6f8e687cf87f06f265f8345e025fd290}{00030}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a6f8e687cf87f06f265f8345e025fd290}{test\_predictor}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00031}00031\ \ \ \ \ \ \ \ \ python\_predicted,\ python\_residuals\ =\ comp.predictor\_debug(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00032}00032\ \ \ \ \ \ \ \ \ SaveCSV(python\_predicted,\ \textcolor{stringliteral}{"{}./python\_predicted.csv"{}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00033}00033\ \ \ \ \ \ \ \ \ SaveCSV(python\_residuals,\ \textcolor{stringliteral}{"{}./python\_residuals.csv"{}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00035}00035\ \ \ \ \ \ \ \ \ c\_predicted\ =\ ReadCSV(\textcolor{stringliteral}{"{}../build/predictor.csv"{}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00036}00036\ \ \ \ \ \ \ \ \ c\_vs\_python\ =\ c\_predicted\ ==\ python\_predicted}
\DoxyCodeLine{\Hypertarget{a00011_source_l00037}00037\ \ \ \ \ \ \ \ \ SaveCSV(c\_vs\_python,\ \textcolor{stringliteral}{"{}./c\_vs\_python.csv"{}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00038}00038\ \ \ \ \ \ \ \ \ self.assertTrue((c\_vs\_python).all())}
\DoxyCodeLine{\Hypertarget{a00011_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00040}\mbox{\hyperlink{a00412_a9c3b7d7f89e7794b99b5d30b9e1b3c03}{00040}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a9c3b7d7f89e7794b99b5d30b9e1b3c03}{test\_unpredict}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00041}00041\ \ \ \ \ \ \ \ \ mapped\ =\ comp.predictor(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00042}00042\ \ \ \ \ \ \ \ \ unpredicted\ =\ comp.unpredictor(mapped,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00043}00043\ \ \ \ \ \ \ \ \ self.assertTrue((unpredicted\ ==\ self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}).all())}
\DoxyCodeLine{\Hypertarget{a00011_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00045}\mbox{\hyperlink{a00412_a9dd048a6a37c5628aa57a9301fe0e6a3}{00045}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a9dd048a6a37c5628aa57a9301fe0e6a3}{test\_inv\_GPO2}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00046}00046\ \ \ \ \ \ \ \ \ value\ =\ 2576}
\DoxyCodeLine{\Hypertarget{a00011_source_l00047}00047\ \ \ \ \ \ \ \ \ k\ =\ 0}
\DoxyCodeLine{\Hypertarget{a00011_source_l00048}00048\ \ \ \ \ \ \ \ \ encoded\ =\ comp.GPO2(k,\ value)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00049}00049\ \ \ \ \ \ \ \ \ decoded,\ i\ =\ comp.inv\_GPO2(k,\ encoded,\ 0)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}value"{},\ value)}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}len(encoded)"{},\ len(encoded))}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}encoded:"{},\ encoded)}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00053}00053\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}decoded"{},\ decoded)}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}i"{},\ i)}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00055}00055\ \ \ \ \ \ \ \ \ self.assertTrue(value\ ==\ decoded)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00057}\mbox{\hyperlink{a00412_a12de10b081d4d2ddbb1828ecb7fbf1a7}{00057}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a12de10b081d4d2ddbb1828ecb7fbf1a7}{test\_decompress}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00058}00058\ \ \ \ \ \ \ \ \ encoded\ =\ comp.encoder(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00059}00059\ \ \ \ \ \ \ \ \ decoded\ =\ comp.decoder(encoded,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00060}00060\ \ \ \ \ \ \ \ \ self.assertTrue((decoded\ ==\ self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}).all())}
\DoxyCodeLine{\Hypertarget{a00011_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00062}\mbox{\hyperlink{a00412_a5d6a83596562086f4bef51e7ce7e3ff8}{00062}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a5d6a83596562086f4bef51e7ce7e3ff8}{test\_compression\_algo}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00063}00063\ \ \ \ \ \ \ \ \ mapped\ =\ comp.predictor(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00064}00064\ \ \ \ \ \ \ \ \ encoded\ =\ comp.encoder(mapped)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00065}00065\ \ \ \ \ \ \ \ \ decoded\ =\ comp.decoder(encoded,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00066}00066\ \ \ \ \ \ \ \ \ unpredicted\ =\ comp.unpredictor(decoded,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00067}00067\ \ \ \ \ \ \ \ \ self.assertTrue((unpredicted\ ==\ self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}).all())}
\DoxyCodeLine{\Hypertarget{a00011_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00069}\mbox{\hyperlink{a00412_a73770f9898094fc643ccdf3f6e3e6450}{00069}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a73770f9898094fc643ccdf3f6e3e6450}{test\_rmse}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00070}00070\ \ \ \ \ \ \ \ \ mapped\ =\ comp.predictor(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00071}00071\ \ \ \ \ \ \ \ \ encoded\ =\ comp.encoder(mapped)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00072}00072\ \ \ \ \ \ \ \ \ decoded\ =\ comp.decoder(encoded,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00073}00073\ \ \ \ \ \ \ \ \ unpredicted\ =\ comp.unpredictor(decoded,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00074}00074\ \ \ \ \ \ \ \ \ self.assertTrue((unpredicted\ ==\ self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}).all())}
\DoxyCodeLine{\Hypertarget{a00011_source_l00075}00075\ \ \ \ \ \ \ \ \ rmse\ =\ self.\mbox{\hyperlink{a00412_acab599e43f76a42446f7d128db6142f5}{rmse}}(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}},\ unpredicted)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00076}00076\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}RMSE:\ "{}},\ rmse)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00077}00077\ \ \ \ \ \ \ \ \ self.assertTrue(rmse\ ==\ 0.0)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00079}\mbox{\hyperlink{a00412_a207b44f776c09bac2062fc6fe065aa9d}{00079}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_a207b44f776c09bac2062fc6fe065aa9d}{test\_compression\_ratio}}(self):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00080}00080\ \ \ \ \ \ \ \ \ mapped\ =\ comp.predictor(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00081}00081\ \ \ \ \ \ \ \ \ encoded\ =\ comp.encoder(mapped)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00082}00082\ \ \ \ \ \ \ \ \ decoded\ =\ comp.decoder(encoded,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00083}00083\ \ \ \ \ \ \ \ \ unpredicted\ =\ comp.unpredictor(decoded,\ self.\mbox{\hyperlink{a00412_a5c7e4f16622600cb52580b191565e2dd}{Nx}},\ self.\mbox{\hyperlink{a00412_ac1452fdfd6ea1c8c005ac90bbfa62011}{Ny}},\ self.\mbox{\hyperlink{a00412_af3ec54a0e6bc4935a13fb520b7d7df6e}{Nz}})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00085}00085\ \ \ \ \ \ \ \ \ rmse\ =\ self.\mbox{\hyperlink{a00412_acab599e43f76a42446f7d128db6142f5}{rmse}}(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}},\ unpredicted)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00086}00086\ \ \ \ \ \ \ \ \ ratio\ =\ self.\mbox{\hyperlink{a00412_abb98cfaed1aee0349dde4e879c2ecb9e}{compression\_ratio}}(self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}},\ encoded)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00088}00088\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}RMSE:\ "{}},\ rmse)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00089}00089\ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Compression\ Ratio:\ "{}},\ ratio)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00090}00090\ \ \ \ \ \ \ \ \ self.assertTrue((unpredicted\ ==\ self.\mbox{\hyperlink{a00412_a511ae0b1c13f95e5f08f1a0dd3da3d93}{data}}).all())}
\DoxyCodeLine{\Hypertarget{a00011_source_l00091}00091\ \ \ \ \ \ \ \ \ self.assertTrue(rmse\ ==\ 0.0)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00092}00092\ \ \ \ \ \ \ \ \ self.assertTrue(ratio\ >\ 1)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00094}\mbox{\hyperlink{a00412_a1a455a23bafc82e59390728276776d89}{00094}}\ \ \ \ \ \textcolor{keyword}{def\ }load\_pic(file\_name="{}python/images/Indian\_pines.mat"{},\ header="{}indian\_pines"{}):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00096}00096\ \ \ \ \ \ \ \ \ data\ =\ scipy.io.loadmat(file\_name)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00097}00097\ \ \ \ \ \ \ \ \ data\ =\ data[header]\ \ \textcolor{comment}{\#\ data\ is\ dictionary,\ only\ take\ the\ array\ part}}
\DoxyCodeLine{\Hypertarget{a00011_source_l00098}00098\ \ \ \ \ \ \ \ \ data\ =\ np.array(data,\ dtype=np.int64)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00100}00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data}
\DoxyCodeLine{\Hypertarget{a00011_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00102}\mbox{\hyperlink{a00412_acab599e43f76a42446f7d128db6142f5}{00102}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_acab599e43f76a42446f7d128db6142f5}{rmse}}(self,\ data,\ decompressed):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00103}00103\ \ \ \ \ \ \ \ \ data16int\ =\ np.array(data,\ dtype=np.uint16)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00104}00104\ \ \ \ \ \ \ \ \ Nz\ =\ data16int.shape[2]}
\DoxyCodeLine{\Hypertarget{a00011_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00106}00106\ \ \ \ \ \ \ \ \ error\ =\ 0}
\DoxyCodeLine{\Hypertarget{a00011_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ z\ \textcolor{keywordflow}{in}\ range(Nz):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ error\ +=\ mean\_squared\_error(data16int[:,\ :,\ z],\ decompressed[:,\ :,\ z],\ squared=\textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{a00011_source_l00109}00109\ \ \ \ \ \ \ \ \ rmse\ =\ error\ /\ Nz}
\DoxyCodeLine{\Hypertarget{a00011_source_l00110}00110\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ rmse}
\DoxyCodeLine{\Hypertarget{a00011_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00112}\mbox{\hyperlink{a00412_abb98cfaed1aee0349dde4e879c2ecb9e}{00112}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{a00412_abb98cfaed1aee0349dde4e879c2ecb9e}{compression\_ratio}}(self,\ data,\ compressed):}
\DoxyCodeLine{\Hypertarget{a00011_source_l00113}00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ data.size\ *\ comp.D\ /\ len(compressed)}
\DoxyCodeLine{\Hypertarget{a00011_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{a00011_source_l00115}00115\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{a00011_source_l00116}00116\ \ \ \ \ unittest.main()}

\end{DoxyCode}
