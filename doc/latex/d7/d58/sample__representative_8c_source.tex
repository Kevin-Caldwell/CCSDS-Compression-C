\doxysection{sample\+\_\+representative.\+c}
\hypertarget{sample__representative_8c_source}{}\label{sample__representative_8c_source}\index{src/sample\_representative.c@{src/sample\_representative.c}}
\mbox{\hyperlink{sample__representative_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{sample__representative_8h}{predictor/sample\_representative.h}}"{}}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00004}00004\ \textcolor{comment}{//\ TODO\ REMOVE,\ Use\ GetPixel\ instaed}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00005}\mbox{\hyperlink{sample__representative_8h_aca1581c921d082976e7f116aa52c56f0}{00005}}\ \mbox{\hyperlink{linear__algebra_8h_a5acabcf9a2b0d843de53680562e2f639}{data\_t}}\ \mbox{\hyperlink{sample__representative_8c_aca1581c921d082976e7f116aa52c56f0}{SampleRepresentative}}(uint16\_t\ sample\_value)\{}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00006}00006\ \ \ \ \ \textcolor{keywordflow}{return}\ sample\_value;}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00007}00007\ \}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00009}\mbox{\hyperlink{sample__representative_8h_a14cff7c59ac94b0387e8b95a433521e9}{00009}}\ uint16\_t\ \mbox{\hyperlink{sample__representative_8c_a14cff7c59ac94b0387e8b95a433521e9}{PredictedSample}}(uint32\_t\ double\_resolution\_predicted\_sample)\{}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00010}00010\ \ \ \ \ \textcolor{keywordflow}{return}\ double\_resolution\_predicted\_sample\ /\ 2;}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00011}00011\ \}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00013}\mbox{\hyperlink{sample__representative_8h_a6c60474c610dc64773816bc445efeb77}{00013}}\ uint32\_t\ \mbox{\hyperlink{sample__representative_8c_a6c60474c610dc64773816bc445efeb77}{DoubleResolutionPredictedSample}}(\mbox{\hyperlink{structimage}{image}}*\ hIMG,\ \mbox{\hyperlink{math__functions_8h_affb1df897d26e77d96c613bea67825c6}{INDEX}}\ z,\ \mbox{\hyperlink{math__functions_8h_affb1df897d26e77d96c613bea67825c6}{INDEX}}\ y,\ \mbox{\hyperlink{math__functions_8h_affb1df897d26e77d96c613bea67825c6}{INDEX}}\ x,\ int64\_t\ high\_resolution\_predicted\_sample)\{}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00014}00014\ \ \ \ \ \textcolor{keywordflow}{if}(x\ >\ 0\ ||\ y\ >\ 0)\{\ \textcolor{comment}{//\ ?\ Substitute\ for\ t>0}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00015}00015\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (high\_resolution\_predicted\_sample\ /\ (int64\_t)\ \mbox{\hyperlink{math__functions_8h_a60b4b9f1152371307ebadc232149699c}{BPOW}}(\mbox{\hyperlink{constants_8h_a515cdf0341e52056bcea8e46c952ee82}{Omega}}\ +\ 1));}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00016}00016\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((x\ ==\ 0\ \&\&\ y\ ==\ 0)\ \&\&\ \mbox{\hyperlink{constants_8h_a21c169290a6c782855c778bb7a0389b9}{kP}}\ >\ 0\ \&\&\ z\ >\ 0)\ \textcolor{comment}{//\ ?\ Substitute\ for\ t\ ==\ 0}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00017}00017\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00018}00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 2\ *\ \mbox{\hyperlink{image_8h_a582f5034cfb025614b418984a00e2e5c}{S}}(hIMG,\ z-\/1,y,x);}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00019}00019\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ ((x\ ==\ 0\ \&\&\ y\ ==\ 0)\ \&\&\ (\mbox{\hyperlink{constants_8h_a21c169290a6c782855c778bb7a0389b9}{kP}}\ ==\ 0\ ||\ z\ ==\ 0))\ \textcolor{comment}{//\ ?\ Substitute\ for\ t\ ==\ 0}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00020}00020\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00021}00021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 2\ *\ \mbox{\hyperlink{constants_8h_a0dca58ddf3108a022c36b549baa6ec46}{kSmid}};}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00022}00022\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00023}00023\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00024}00024\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00025}00025\ \}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00027}\mbox{\hyperlink{sample__representative_8h_a441e8d0fe639d45889aab5b88c4138f4}{00027}}\ int64\_t\ \mbox{\hyperlink{sample__representative_8c_a441e8d0fe639d45889aab5b88c4138f4}{HighResolutionPredictedSample}}(int64\_t\ predicted\_central\_local\_difference,\ uint32\_t\ local\_sum)\{}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00028}00028\ \ \ \ \ int64\_t\ temp1\ =\ (int64\_t)predicted\_central\_local\_difference\ +\ (int64\_t)\ \mbox{\hyperlink{math__functions_8h_a60b4b9f1152371307ebadc232149699c}{BPOW}}(\mbox{\hyperlink{constants_8h_a515cdf0341e52056bcea8e46c952ee82}{Omega}})\ *\ ((int64\_t)\ local\_sum\ -\/\ (int64\_t)\ (4\ *\ \mbox{\hyperlink{constants_8h_a0dca58ddf3108a022c36b549baa6ec46}{kSmid}}));}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00029}00029\ \ \ \ \ int64\_t\ mod\ =\ (temp1\ +\ (1L\ <<\ (\mbox{\hyperlink{constants_8h_a43cf89f028c6b6ad01038627b83a84c0}{kR}}-\/1)))\ \%\ (1L\ <<\ (\mbox{\hyperlink{constants_8h_a43cf89f028c6b6ad01038627b83a84c0}{kR}}));}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00030}00030\ \ \ \ \ mod\ =\ (mod\ <\ 0)\ ?\ (mod\ +\ (1L\ <<\ (\mbox{\hyperlink{constants_8h_a43cf89f028c6b6ad01038627b83a84c0}{kR}})))\ :\ mod;}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00031}00031\ \ \ \ \ int64\_t\ temp2\ =\ mod\ -\/\ (1L\ <<\ (\mbox{\hyperlink{constants_8h_a43cf89f028c6b6ad01038627b83a84c0}{kR}}\ -\/\ 1));\textcolor{comment}{//MOD(temp1,\ ((int64\_t)\ kR));}}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00032}00032\ \ \ \ \ int64\_t\ temp3\ =\ temp2\ +\ (int64\_t)\ \mbox{\hyperlink{math__functions_8h_a60b4b9f1152371307ebadc232149699c}{BPOW}}(\mbox{\hyperlink{constants_8h_a515cdf0341e52056bcea8e46c952ee82}{Omega}}\ +\ 2)\ *\ (int64\_t)\ \mbox{\hyperlink{constants_8h_a0dca58ddf3108a022c36b549baa6ec46}{kSmid}}\ +\ (int64\_t)\ \mbox{\hyperlink{math__functions_8h_a60b4b9f1152371307ebadc232149699c}{BPOW}}(\mbox{\hyperlink{constants_8h_a515cdf0341e52056bcea8e46c952ee82}{Omega}}\ +\ 1);}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00034}00034\ \ \ \ \ int64\_t\ hrps\_max\ =\ \mbox{\hyperlink{math__functions_8h_a60b4b9f1152371307ebadc232149699c}{BPOW}}(\mbox{\hyperlink{constants_8h_a515cdf0341e52056bcea8e46c952ee82}{Omega}}+2)\ *\ (int64\_t)\ \mbox{\hyperlink{constants_8h_a8329a1a244af278852519dfccd0d4814}{kSmax}}\ +\ \mbox{\hyperlink{math__functions_8h_a60b4b9f1152371307ebadc232149699c}{BPOW}}(\mbox{\hyperlink{constants_8h_a515cdf0341e52056bcea8e46c952ee82}{Omega}}+1);}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00035}00035\ \ \ \ \ int64\_t\ hrps\_min\ =\ \mbox{\hyperlink{math__functions_8h_a60b4b9f1152371307ebadc232149699c}{BPOW}}(\mbox{\hyperlink{constants_8h_a515cdf0341e52056bcea8e46c952ee82}{Omega}}\ +\ 2)\ *\ \mbox{\hyperlink{constants_8h_add3510c03fbe63c1b97c67aac517c930}{kSmin}};}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00037}00037\ \ \ \ \ int64\_t\ temp\ =\ \mbox{\hyperlink{math__functions_8h_a816dcf31e408d445ca8275ad96e6eb1e}{CLIP}}(temp3,\ hrps\_min,\ hrps\_max);}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{return}\ temp;}
\DoxyCodeLine{\Hypertarget{sample__representative_8c_source_l00039}00039\ \}}

\end{DoxyCode}
